#################################################
# HAMMERFLOW CONFIGURATION
#################################################
# This is your active Hammerflow config. The lua
# prioritizes home.toml, then work.toml, then
# falls back to config.toml. Add custom profile
# names in ~/.hammerspoon/init.lua if needed.
#################################################


# ═══════════════════════════════════════════════
# SECTION 1: GLOBAL SETTINGS
# ═══════════════════════════════════════════════

leader_key = "f20"        # required - the key that starts all sequences
leader_key_mods = ""      # optional - modifier keys (cmd ctrl alt shift), not recommended
auto_reload = true        # optional - reload when config files change (default: true)
toast_on_reload = true    # optional - show notification on reload (default: false)
show_ui = true            # optional - show the UI overlay (default: true)
display_mode = "webview"  # optional - "webview" (rich) or "text" (simple)

# Grid layout options
max_grid_columns = 5      # max columns in menu display (1-10 recommended)
grid_spacing = " | "      # spacing between columns
grid_separator = " ▸ "    # separator between key and label
# layout_mode = "vertical"  # uncomment for vertical layout globally
# max_column_height = 8     # max items per column before wrapping


# ═══════════════════════════════════════════════
# SECTION 2: ROOT-LEVEL SHORTCUTS
# ═══════════════════════════════════════════════
# Single keys that trigger actions directly (no submenu)
# Format: key = ["action", "label", "icon.png"]
# Note: If no icon specified, generic.png is used for alignment
#
# IMPORTANT: All root-level keys MUST be defined BEFORE any
# [table] sections. This is a TOML specification requirement.

# --- Apps ---
p = ["Claude", "Claude", "claude.png"]
5 = ["ChatGPT", "ChatGPT", "chatgpt.png"]

# --- Keyboard Maestro macros ---
g = ["km:Google_meet", "<span style='font-weight: bold; color: red'>G</span>oogle Meet", "google_meet.png"]
v = ["km:ICRECORDER_copy", "Rec Copy", "IC.webp"]

# --- Browser-specific URLs ---
j = ["chrome:https://docs.google.com/spreadsheets/d/EXAMPLE_SHEET_ID/edit?gid=0#gid=0", "My Spreadsheet", "dots.png"]
m = ["canary:https://gemini.google.com/app?authuser=user@example.com", "Google Gemini", "gemini.png"]

# --- Plain URLs ---
e = ["https://example.com/your-portal", "example portal"]


# ═══════════════════════════════════════════════
# SECTION 3: BACKGROUND CONFIGURATION
# ═══════════════════════════════════════════════
# NOTE: This section MUST come after all root-level keys above.
# TOML requires all bare keys before any [table] sections.

[background]
type = "inyo"                 # "inyo" for animated templates, or omit for static image
template = "jellyfish"        # Inyo template: jellyfish, particles, matrix, etc.
image = "background.gif"      # Fallback image in images/ directory
opacity = 0.6                 # Transparency: 0.0 (invisible) to 1.0 (opaque)
position = "center center"    # Position: "center center", "top left", "bottom right", etc.
size = "cover"                # Size options:
                              #   "cover"     - fill container, may crop (good for backgrounds)
                              #   "contain"   - fit inside, shows whole image (good for logos)
                              #   "auto"      - natural size, clips overflow
                              #   "100% 100%" - stretch to fill (may distort)
                              #   "200px"     - fixed width, proportional height


# ═══════════════════════════════════════════════
# SECTION 4: DYNAMIC MENUS
# ═══════════════════════════════════════════════
# Menus generated at runtime from system state
# Use table syntax [key] with action = "dynamic:generator"
#
# Chrome/Canary tab syntax: dynamic:chrome|<filter>,<browser>
#   - <filter>  = search string to match in tab URL/title (empty = all tabs)
#   - <browser> = "chrome" or "canary"
#   - Example: "dynamic:chrome|mail.google,canary" → Gmail tabs in Canary
#   - Example: "dynamic:chrome|github,chrome" → GitHub tabs in Chrome
#   - Example: "dynamic:chrome|,canary" → ALL tabs in Canary

# Cursor Windows - shows all open Cursor editor windows
[3]
action = "dynamic:cursor"
label = "Cursor Windows"
layout_mode = "vertical"
max_column_height = 20
background_image = "cursor.gif"
background_opacity = 0.6
background_position = "center center"
background_size = "cover"

# Kitty Windows - shows all open Kitty terminal windows
[4]
action = "dynamic:kitty"
label = "Kitty Windows"
icon = "kitty.png"
layout_mode = "vertical"
max_column_height = 8
background_image = "kitty.gif"
background_opacity = 0.6
background_position = "center center"
background_size = "cover"

# Chrome Canary Tabs - filtered by domain
[o]
action = "dynamic:chrome|mail.google,canary"
label = "Gmail Canary"
icon = "generic.png"
layout_mode = "vertical"
max_column_height = 15

# Chrome Tabs - filtered by domain
[i]
action = "dynamic:chrome|mail.google,chrome"
label = "Gmail Chrome"
icon = "generic.png"
layout_mode = "vertical"
max_column_height = 15

# Claude Web Tabs - dedicated generator with "New Chat" option
[P]
action = "dynamic:claude_web"
label = "Claude Web"
icon = "claude.png"
layout_mode = "vertical"
max_column_height = 15

# --- Other available dynamic generators ---
# action = "dynamic:files(~/Downloads)"  # Browse files in a directory
# action = "dynamic:git"                 # Git branch switcher
# action = "dynamic:docker"              # Docker container management
# action = "dynamic:linear"              # Linear issues


# ═══════════════════════════════════════════════
# SECTION 5: SUBMENU GROUPS
# ═══════════════════════════════════════════════
# Groups open a submenu with more options
# Format: [key] with label, icon, and nested key definitions

# --- Linear ---
[l]
label = "[linear]"
icon = "linear.png"
layout_mode = "vertical"
max_column_height = 8
1_n = ["km:Linear_new", "New", "linear.png"]
2_i = ["km:Linear_inbox", "Inbox", "linear.png"]
3_s = ["km:Linear_search", "Search", "linear.png"]
b = ["linear://yourcompany/view/example-view-id-1", "TeamMember1", "linear.png"]
g = ["linear://yourcompany/view/example-view-id-2", "TeamMember2", "linear.png"]
j = ["linear://yourcompany/view/example-view-id-3", "TeamMember3", "linear.png"]
c = ["linear://yourcompany/project/example-project-1/issues?layout=board&ordering=priority&grouping=workflowState&subGrouping=none&showCompletedIssues=all&showSubIssues=true&showTriageIssues=false", "Project1", "linear.png"]
w = ["linear://yourcompany/project/example-project-2/issues?layout=board&ordering=priority&grouping=workflowState&subGrouping=none&showCompletedIssues=all&showSubIssues=true&showTriageIssues=false", "Project2", "linear.png"]
a = ["linear://yourcompany/view/example-view-id-4?layout=board&ordering=manual&grouping=workflowState&subGrouping=none&showCompletedIssues=all&showSubIssues=true&showTriageIssues=false", "TeamMember4", "linear.png"]
p = ["linear://yourcompany/project/example-project-3/issues?layout=board&ordering=priority&grouping=workflowState&subGrouping=none&showCompletedIssues=all&showSubIssues=true&showTriageIssues=false", "Project3", "linear.png"]
0_l = ["Linear", "Linear", "linear.png"]

# --- Apps ---
[a]
label = "[apps]"
layout_mode = "vertical"
c = ["Calendar", "Calendar", "calendar.webp"]
1 = ["1Password", "1Password", "1password.png"]
p = ["YourApp", "YourApp", "generic.png"]
r = ["Cursor", "Cursor", "cursor.png"]
w = ["Windsurf", "Windsurf", "windsurf.png"]
v = ["VoiceMemos", "Voice Memos", "voicememo.png"]
o = ["Obsidian", "Obsidian", "obsidian.png"]
a = ["Asana", "Asana", "asana.png"]
h = ["Whatsapp", "Whatsapp", "voicememo.png"]

# --- Links ---
[b]
label = "[links]"
g = "https://github.com/yourusername"
s = "https://goldmansachs.com"

# --- Dots/Scripts (Keyboard Maestro) ---
[d]
label = "[dots]"
icon = "dots.png"
d = ["km:Kitty_dot", "DOTS", "dots.png"]
n = ["km:Kitty_clips", "CLIPS", "dots.png"]
v = ["km:Nvim_dot", "VIM", "dots.png"]
p = ["km:Md_dot", "AI MDs", "dots.png"]
l = ["linear://yourcompany/team/TEAM/all", "Linear Issues", "linear.png"]

# --- Obsidian ---
[n]
label = "[Obsidian]"
icon = "obsidian.png"
d = ["obsidian://open?vault=SolidBlack&file=Home", "Home", "obsidian.png"]
n = ["obsidian://new?vault=VaultName&name=NEWTEST", "new", "obsidian.png"]
t = ["obsidian://new", "new test", "obsidian.png"]

# --- Spreadsheets ---
[r]
label = "[sheets]"
icon = "generic.png"
layout_mode = "vertical"
o = ["chrome:https://docs.google.com/spreadsheets/d/EXAMPLE_SHEET_ID_1/edit?gid=0#gid=0", "Sheet1"]
p = ["chrome:https://docs.google.com/spreadsheets/d/EXAMPLE_SHEET_ID_2/edit?gid=0#gid=0", "Sheet2"]
b = ["chrome:https://docs.google.com/spreadsheets/d/EXAMPLE_SHEET_ID_3/edit?gid=0#gid=0", "Sheet3"]
j = ["chrome:https://docs.google.com/spreadsheets/d/EXAMPLE_SHEET_ID_4/edit?gid=0#gid=0", "Sheet4"]

# --- Raycast ---
[t]
label = "[raycast]"
c = ["raycast://extensions/raycast/raycast/confetti", "confetti"]
e = ["raycast://extensions/raycast/emoji-symbols/search-emoji-symbols", "emoji"]

# --- Work ---
[w]
label = "[work]"
icon = "generic.png"
s = ["canary:https://docs.google.com/spreadsheets/d/EXAMPLE_SHEET_ID_5/edit?gid=0#gid=0", "Sales"]
n = ["canary:https://docs.google.com/spreadsheets/d/EXAMPLE_SHEET_ID_6/edit?gid=0#gid=0", "Serial Numbers"]

# --- Home ---
[h]
label = "[home]"
u = ["km:unifi_hs", "Unifi", "dots.png"]

# --- Window Management ---
[9]
label = "[window]"
h = ["raycast://extensions/raycast/window-management/left-half", "left half"]
l = ["raycast://extensions/raycast/window-management/right-half", "right half"]
c = ["raycast://extensions/raycast/window-management/center-half", "center half"]
p = ["raycast://extensions/raycast/window-management/center-third", "center third"]


# ═══════════════════════════════════════════════
# SECTION 6: SEARCHES (Input Capture)
# ═══════════════════════════════════════════════
# Use input: or textarea: prefix to capture user input
# {input} is replaced with the captured text

["y_/"]
label = "[searches]"
layout_mode = "vertical"
background_image = "search.gif"
max_column_height = 8
"/" = ["input:https://google.com/search?q={input}", "Google Search"]
w = ["input:https://drive.google.com/drive/search?q={input}&authuser=user%40company.com", "Work Search", "generic.png"]
m = ["input:https://drive.google.com/drive/search?q={input}&authuser=user%40company.com", "My Work Drive", "generic.png"]
j = ["input:https://drive.google.com/drive/search?q={input}&authuser=user%40example.com", "Personal Drive"]
c = ["textarea:https://chatgpt.com/?model=gpt-5-pro&q={input}", "ChatGPT Pro", "chatgpt.png"]
o = ["km:obsidian_omnisearch", "OmniSearch", "obsidian.png"]
s = ["input:km:obsidian_search?OB_search={input}", "Search", "obsidian.png"]
# Tip: To target a Google account, add &authuser=email%40domain.com (@ becomes %40)


# ═══════════════════════════════════════════════
# SECTION 7: HAMMERFLOW META
# ═══════════════════════════════════════════════
# Tools for managing Hammerflow itself

["z_."]
label = "[hammerflow]"
icon = "hammerspoon.png"
"." = ["reload", "Reload Config", "hammerspoon.png"]
c = ["cmd:open http://localhost:8888/config-editor.html", "Config Editor", "hammerspoon.png"]
h = ["code: ~/.hammerspoon/Hammerflow/README.md", "Open README", "hammerspoon.png"]


# ═══════════════════════════════════════════════
# SECTION 8: REFERENCE - ALL ACTION PREFIXES
# ═══════════════════════════════════════════════
# This section documents all available action types.
# Uncomment any example to make it active.

# --- Nested Group Example ---
# Groups can be nested for hierarchical menus:
# [b.m]
# label = "[me]"
# g = ["https://github.com/yourusername", "my github"]
# b = ["https://bsky.app/profile/yourhandle", "my bluesky"]
# t = ["https://twitter.com/yourhandle", "my twitter"]

# --- All Prefix Types ---
# [x]
# label = "[prefixes]"
#
# # Type text
# t = "text:user@example.com"           # Types the text literally
#
# # Run terminal command
# z = "cmd:code ~/.zshrc"               # Executes in shell
#
# # Open in VS Code
# x = "code: ~/.zshrc"                  # Opens file/folder in VS Code
#
# # Trigger keyboard shortcut
# s = "shortcut:cmd shift 4"            # Sends key combination
#
# # Reload Hammerflow config
# r = "reload"                          # Reloads hammerspoon
#
# # Capture single-line input
# i = "input:https://google.com/search?q={input}"
#
# # Capture multi-line input
# m = "textarea:https://chatgpt.com/?q={input}"
#
# # Window positioning (x, y, width, height as decimals or pixels)
# w = "window:.4,.3,.2,.4"              # Percentages: x=40%, y=30%, w=20%, h=40%
# p = "window:-1000,0,1000,.9"          # Negative = from right edge
#
# # Raw Hammerspoon (advanced)
# h = "hs:hs.alert('Hello!')"           # Execute any HS code
#
# # Keyboard Maestro
# k = "km:Macro_Name"                   # Trigger KM macro by name
#
# # Open app by name
# a = ["Safari", "Safari"]              # Opens Safari
#
# # Open URL
# u = "https://example.com"             # Opens in default browser
#
# # Deep links
# l = "linear://yourcompany/view/id"    # Linear
# o = "obsidian://open?vault=Name"      # Obsidian
# r = "raycast://extensions/..."        # Raycast

# --- Window Management Examples ---
# [w.k]
# label = "[kitty windows]"
# l = ["window:-1000,0,1000,.9", "right 1000px"]   # 1000px from right, 90% height
# h = ["window:0,0,1000,.9", "left 1000px"]        # 1000px from left, 90% height


# ═══════════════════════════════════════════════
# END OF CONFIG
# ═══════════════════════════════════════════════
# Share your ideas: github.com/yourusername
